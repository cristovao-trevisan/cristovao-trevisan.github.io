import{_ as n,a as e,b as t,c as r,i,d as c,s,S as o,h as a,q as l,j as u,k as f,m as d,l as p,M as h,n as v,o as m,u as g,R as x,N as $,w as N,A as k,B as w,E as y,I as E,z as I}from"./chunk.538e3fa9.js";import{_ as b,a as D}from"./chunk.91f70e09.js";import"./chunk.90c4294d.js";import{a as V,A as j}from"./chunk.e6434a4c.js";function P(n){var e,t,r,i,c,s,o,$,N,k,w,y,E,I;return{c:function(){e=a("div"),t=a("div"),r=a("div"),i=l(),c=a("img"),s=l(),o=a("img"),$=l(),N=a("div"),k=a("div"),w=l(),y=a("div"),E=a("div"),this.h()},l:function(n){e=u(n,"DIV",{class:!0},!1);var a=f(e);t=u(a,"DIV",{class:!0},!1);var l=f(t);r=u(l,"DIV",{class:!0},!1),f(r).forEach(d),i=p(l,"\n    "),c=u(l,"IMG",{class:!0,src:!0,alt:!0},!1),f(c).forEach(d),s=p(l,"\n    "),o=u(l,"IMG",{class:!0,src:!0,alt:!0},!1),f(o).forEach(d),$=p(l,"\n    "),N=u(l,"DIV",{class:!0},!1);var h=f(N);k=u(h,"DIV",{class:!0},!1),f(k).forEach(d),h.forEach(d),w=p(l,"\n    "),y=u(l,"DIV",{class:!0},!1);var v=f(y);E=u(v,"DIV",{class:!0},!1),f(E).forEach(d),v.forEach(d),l.forEach(d),a.forEach(d),this.h()},h:function(){r.className="mask svelte-367gcx",c.className="blur svelte-367gcx",c.src=n.initial,c.alt="loading",o.className="image svelte-367gcx",o.src=n.src,o.alt="high resolution picture",k.className="icon svelte-367gcx",N.className="icon-left svelte-367gcx",E.className="icon svelte-367gcx",y.className="icon-right svelte-367gcx",t.className="container svelte-367gcx",e.className="overlay svelte-367gcx",I=[h(window,"keydown",n.handleKeydown),h(r,"click",n.onClose),h(N,"click",n.onPrevious),h(y,"click",n.onNext)]},m:function(n,a){v(n,e,a),m(e,t),m(t,r),m(t,i),m(t,c),m(t,s),m(t,o),m(t,$),m(t,N),m(N,k),m(t,w),m(t,y),m(y,E)},p:function(n,e){n.initial&&(c.src=e.initial),n.src&&(o.src=e.src)},i:g,o:g,d:function(n){n&&d(e),x(I)}}}function A(n,e,t){var r=e.initial,i=e.src,c=$(),s=function(){return c("close")},o=function(){return c("next")},a=function(){return c("previous")};return n.$set=function(n){"initial"in n&&t("initial",r=n.initial),"src"in n&&t("src",i=n.src)},{initial:r,src:i,onClose:s,onNext:o,onPrevious:a,handleKeydown:function(n){"Escape"===n.key?s():"ArrowRight"===n.key?o():"ArrowLeft"===n.key&&a()}}}var M=function(a){function l(n){var o;return e(this,l),o=t(this,r(l).call(this)),i(c(o),n,A,P,s,["initial","src"]),o}return n(l,o),l}();function S(n,e,t){var r=Object.create(n);return r.picture=e[t],r.index=t,r}function C(n){var e,t=new M({props:{initial:n.folder+"/blur/"+n.selected,src:n.folder+"/2048px/"+n.selected}});return t.$on("close",n.removeSelection),t.$on("next",n.onNext),t.$on("previous",n.onPrevious),{c:function(){t.$$.fragment.c()},l:function(n){t.$$.fragment.l(n)},m:function(n,r){N(t,n,r),e=!0},p:function(n,e){var r={};(n.folder||n.selected)&&(r.initial=e.folder+"/blur/"+e.selected),(n.folder||n.selected)&&(r.src=e.folder+"/2048px/"+e.selected),t.$set(r)},i:function(n){e||(t.$$.fragment.i(n),e=!0)},o:function(n){t.$$.fragment.o(n),e=!1},d:function(n){t.$destroy(n)}}}function G(n,e){var t,r,i,c,s=new j({props:{initial:e.folder+"/blur/"+e.picture,src:e.folder+"/400px/"+e.picture,alt:"picture-"+e.index}});return{key:n,first:null,c:function(){t=a("div"),s.$$.fragment.c(),r=l(),this.h()},l:function(n){t=u(n,"DIV",{class:!0},!1);var e=f(t);s.$$.fragment.l(e),r=p(e,"\n    "),e.forEach(d),this.h()},h:function(){t.className="image-container hoverlay svelte-1mlpagj",c=h(t,"click",e.selectPicture(e.picture,e.index)),this.first=t},m:function(n,e){v(n,t,e),N(s,t,null),m(t,r),i=!0},p:function(n,t){e=t;var r={};(n.folder||n.pictures)&&(r.initial=e.folder+"/blur/"+e.picture),(n.folder||n.pictures)&&(r.src=e.folder+"/400px/"+e.picture),n.pictures&&(r.alt="picture-"+e.index),s.$set(r)},i:function(n){i||(s.$$.fragment.i(n),i=!0)},o:function(n){s.$$.fragment.o(n),i=!1},d:function(n){n&&d(t),s.$destroy(),c()}}}function K(n){for(var e,t,r,i=[],c=new Map,s=n.selected&&C(n),o=n.pictures,h=function(n){return n.picture},m=0;m<o.length;m+=1){var g=S(n,o,m),x=h(g);c.set(x,i[m]=G(x,g))}return{c:function(){for(s&&s.c(),e=l(),t=a("div"),m=0;m<i.length;m+=1)i[m].c();this.h()},l:function(n){s&&s.l(n),e=p(n,"\n\n"),t=u(n,"DIV",{class:!0},!1);var r=f(t);for(m=0;m<i.length;m+=1)i[m].l(r);r.forEach(d),this.h()},h:function(){t.className="container svelte-1mlpagj"},m:function(n,c){for(s&&s.m(n,c),v(n,e,c),v(n,t,c),m=0;m<i.length;m+=1)i[m].m(t,null);r=!0},p:function(n,r){r.selected?s?(s.p(n,r),s.i(1)):((s=C(r)).c(),s.i(1),s.m(e.parentNode,e)):s&&(I(),k(function(){s.d(1),s=null}),s.o(1),w());var o=r.pictures;I(),i=y(i,n,h,1,r,o,c,t,E,G,null,S),w()},i:function(n){if(!r){s&&s.i();for(var e=0;e<o.length;e+=1)i[e].i();r=!0}},o:function(n){for(s&&s.o(),m=0;m<i.length;m+=1)i[m].o();r=!1},d:function(n){for(s&&s.d(n),n&&(d(e),d(t)),m=0;m<i.length;m+=1)i[m].d()}}}function R(n,e){return _.apply(this,arguments)}function _(){return(_=b(D.mark(function n(e,t){var r,i,c,s;return D.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.params.album,i=V.find(function(n){return n.title===r}),c=i.folder,s=i.pictures,n.abrupt("return",{folder:c,pictures:s});case 3:case"end":return n.stop()}},n)}))).apply(this,arguments)}function q(n,e,t){var r=e.folder,i=e.pictures,c=null,s=-1;return n.$set=function(n){"folder"in n&&t("folder",r=n.folder),"pictures"in n&&t("pictures",i=n.pictures)},{folder:r,pictures:i,selected:c,selectPicture:function(n,e){return function(){t("selected",c=n),s=e}},removeSelection:function(){t("selected",c=null)},onNext:function(){s<i.length-1&&t("selected",c=i[s+=1])},onPrevious:function(){s>0&&t("selected",c=i[s-=1])}}}export default(function(a){function l(n){var o;return e(this,l),o=t(this,r(l).call(this)),i(c(o),n,q,K,s,["folder","pictures"]),o}return n(l,o),l}());export{R as preload};
//# sourceMappingURL=[album].573e345b.js.map
