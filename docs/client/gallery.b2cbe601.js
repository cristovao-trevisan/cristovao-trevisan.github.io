import{S as e,i as s,s as t,e as c,m as a,b as l,d as i,h as r,f as n,B as o,G as d,j as h,k as u,y as p,z as g,n as m,J as v,K as f}from"./chunk.5a48e96c.js";function A(e,s,t){const c=Object.create(e);return c.picture=s[t],c.index=t,c}function N(e){var s,t,p,g,m,v,f,A,N,y;return{c(){s=c("div"),t=c("div"),p=c("img"),m=a(),v=c("img"),A=a(),N=c("div"),this.h()},l(e){s=l(e,"DIV",{class:!0},!1);var c=i(s);t=l(c,"DIV",{class:!0},!1);var a=i(t);p=l(a,"IMG",{style:!0,src:!0,alt:!0,class:!0},!1),i(p).forEach(r),m=n(a,"\n      "),v=l(a,"IMG",{src:!0,alt:!0,class:!0},!1),i(v).forEach(r),A=n(a,"\n      "),N=l(a,"DIV",{class:!0},!1),i(N).forEach(r),a.forEach(r),c.forEach(r),this.h()},h(){o(p,"position","absolute"),p.src=g=j+"/blur/"+e.selected,p.alt="loading",p.className="svelte-1q09yhi",v.src=f=j+"/2048px/"+e.selected,v.alt="high resolution picture",v.className="svelte-1q09yhi",N.className="overlay-mask svelte-1q09yhi",t.className="overlay-container svelte-1q09yhi",s.className="overlay svelte-1q09yhi",y=d(N,"click",e.removeSelection)},m(e,c){h(e,s,c),u(s,t),u(t,p),u(t,m),u(t,v),u(t,A),u(t,N)},p(e,s){e.selected&&g!==(g=j+"/blur/"+s.selected)&&(p.src=g),e.selected&&f!==(f=j+"/2048px/"+s.selected)&&(v.src=f)},d(e){e&&r(s),y()}}}function y(e,s){var t,o,p,g,m=s.index;return{key:e,first:null,c(){t=c("div"),o=c("img"),p=a(),this.h()},l(e){t=l(e,"DIV",{class:!0},!1);var s=i(t);o=l(s,"IMG",{src:!0,"data-src":!0,alt:!0,class:!0},!1),i(o).forEach(r),p=n(s,"\n    "),s.forEach(r),this.h()},h(){o.src=j+"/blur/"+s.picture,o.dataset.src=j+"/400px/"+s.picture,o.alt="picture-"+s.index,o.className="svelte-1q09yhi",t.className="image-container svelte-1q09yhi",g=d(t,"click",s.selectPicture(s.picture)),this.first=t},m(e,c){h(e,t,c),u(t,o),f(()=>s.img_binding(o,null,m)),u(t,p)},p(e,t){s=t,e.items&&(s.img_binding(null,o,m),m=s.index,s.img_binding(o,null,m))},d(e){e&&r(t),s.img_binding(null,o,m),g()}}}function _(e){var s,t,o,u=[],v=new Map,f=e.selected&&N(e),_=e.pictures;const j=e=>e.picture;for(var b=0;b<_.length;b+=1){let s=A(e,_,b),t=j(s);v.set(t,u[b]=y(t,s))}return{c(){for(f&&f.c(),s=a(),t=c("div"),b=0;b<u.length;b+=1)u[b].c();this.h()},l(e){f&&f.l(e),s=n(e,"\n\n"),t=l(e,"DIV",{class:!0},!1);var c=i(t);for(b=0;b<u.length;b+=1)u[b].l(c);c.forEach(r),this.h()},h(){t.className="container svelte-1q09yhi",o=d(window,"keydown",e.handleKeydown)},m(e,c){for(f&&f.m(e,c),h(e,s,c),h(e,t,c),b=0;b<u.length;b+=1)u[b].m(t,null)},p(e,c){c.selected?f?f.p(e,c):((f=N(c)).c(),f.m(s.parentNode,s)):f&&(f.d(1),f=null);const a=c.pictures;u=p(u,e,j,1,c,a,v,t,g,y,null,A)},i:m,o:m,d(e){for(f&&f.d(e),e&&(r(s),r(t)),b=0;b<u.length;b+=1)u[b].d();o()}}}const j="img/pictures-2019-06-04";function b(e,s,t){const c=["_ANA1931.jpg","_ANA1926.jpg","_ANA1900.jpg","_ANA1829.jpg","_ANA1869.jpg","_ANA1874.jpg","_ANA1880.jpg","_ANA1882.jpg","_ANA1916.jpg","_ANA1915.jpg","_ANA1886.jpg"];let a=null,l=c.map(()=>{});const i=()=>{t("selected",a=null)};return v(()=>{l.forEach(e=>{e.setAttribute("src",e.getAttribute("data-src"))})}),{pictures:c,selected:a,images:l,selectPicture:e=>()=>{t("selected",a=e)},removeSelection:i,handleKeydown:e=>{"Escape"===e.key&&i()},img_binding:function(e,s,c){(e||!e&&l[c]===s)&&(l[c]=e),t("images",l)}}}export default class extends e{constructor(e){super(),s(this,e,b,_,t,[])}}
//# sourceMappingURL=gallery.b2cbe601.js.map
