import{_ as t,a as e,b as n,c as i,i as r,d as c,s,S as a,f as l,g as o,h as u,j as f,k as d,l as v,N as h,n as p,m,v as g,E as $,O as x,x as N,t as k,B as b,C as E,r as y,G as I,L as w,q as D,A as V}from"./chunk.c3f76420.js";import{_}from"./chunk.a5401fa3.js";import{_ as j,a as P}from"./chunk.d5942d9e.js";import"./chunk.baa3a598.js";import{A}from"./chunk.6ed4dfc9.js";import{a as C}from"./chunk.551b080a.js";function G(t){var e,n,i,r,c,s,a,x,N,k,b,E,y,I;return{c:function(){e=l("div"),n=l("div"),i=l("div"),r=o(),c=l("img"),s=o(),a=l("img"),x=o(),N=l("div"),k=l("div"),b=o(),E=l("div"),y=l("div"),this.h()},l:function(t){e=u(t,"DIV",{class:!0},!1);var l=f(e);n=u(l,"DIV",{class:!0},!1);var o=f(n);i=u(o,"DIV",{class:!0},!1),f(i).forEach(d),r=v(o,"\n    "),c=u(o,"IMG",{class:!0,src:!0,alt:!0},!1),f(c).forEach(d),s=v(o,"\n    "),a=u(o,"IMG",{class:!0,src:!0,alt:!0},!1),f(a).forEach(d),x=v(o,"\n    "),N=u(o,"DIV",{class:!0},!1);var h=f(N);k=u(h,"DIV",{class:!0},!1),f(k).forEach(d),h.forEach(d),b=v(o,"\n    "),E=u(o,"DIV",{class:!0},!1);var p=f(E);y=u(p,"DIV",{class:!0},!1),f(y).forEach(d),p.forEach(d),o.forEach(d),l.forEach(d),this.h()},h:function(){i.className="mask svelte-367gcx",c.className="blur svelte-367gcx",c.src=t.initial,c.alt="loading",a.className="image svelte-367gcx",a.src=t.src,a.alt="high resolution picture",k.className="icon svelte-367gcx",N.className="icon-left svelte-367gcx",y.className="icon svelte-367gcx",E.className="icon-right svelte-367gcx",n.className="container svelte-367gcx",e.className="overlay svelte-367gcx",I=[h(window,"keydown",t.handleKeydown),h(i,"click",t.onClose),h(N,"click",t.onPrevious),h(E,"click",t.onNext)]},m:function(t,l){p(t,e,l),m(e,n),m(n,i),m(n,r),m(n,c),m(n,s),m(n,a),m(n,x),m(n,N),m(N,k),m(n,b),m(n,E),m(E,y)},p:function(t,e){t.initial&&(c.src=e.initial),t.src&&(a.src=e.src)},i:g,o:g,d:function(t){t&&d(e),$(I)}}}function M(t,e,n){var i=e.initial,r=e.src,c=x(),s=function(){return c("close")},a=function(){return c("next")},l=function(){return c("previous")};return t.$set=function(t){"initial"in t&&n("initial",i=t.initial),"src"in t&&n("src",r=t.src)},{initial:i,src:r,onClose:s,onNext:a,onPrevious:l,handleKeydown:function(t){"Escape"===t.key?s():"ArrowRight"===t.key?a():"ArrowLeft"===t.key&&l()}}}var S=function(l){function o(t){var a;return e(this,o),a=n(this,i(o).call(this)),r(c(a),t,M,G,s,["initial","src"]),a}return t(o,a),o}();function K(t,e,n){var i=Object.create(t);return i.picture=e[n],i.index=n,i}function L(t){var e,n=new S({props:{initial:t.folder+"/blur/"+t.selected,src:t.folder+"/2048px/"+t.selected}});return n.$on("close",t.removeSelection),n.$on("next",t.onNext),n.$on("previous",t.onPrevious),{c:function(){n.$$.fragment.c()},l:function(t){n.$$.fragment.l(t)},m:function(t,i){N(n,t,i),e=!0},p:function(t,e){var i={};(t.folder||t.selected)&&(i.initial=e.folder+"/blur/"+e.selected),(t.folder||t.selected)&&(i.src=e.folder+"/2048px/"+e.selected),n.$set(i)},i:function(t){e||(n.$$.fragment.i(t),e=!0)},o:function(t){n.$$.fragment.o(t),e=!1},d:function(t){n.$destroy(t)}}}function O(t,e){var n,i,r,c,s=new A({props:{initial:e.folder+"/blur/"+e.picture,src:e.folder+"/400px/"+e.picture,alt:"picture-"+e.index}});return{key:t,first:null,c:function(){n=l("div"),s.$$.fragment.c(),i=o(),this.h()},l:function(t){n=u(t,"DIV",{class:!0},!1);var e=f(n);s.$$.fragment.l(e),i=v(e,"\n      "),e.forEach(d),this.h()},h:function(){n.className="image-container hoverlay svelte-13but6l",c=h(n,"click",e.selectPicture(e.picture,e.index)),this.first=n},m:function(t,e){p(t,n,e),N(s,n,null),m(n,i),r=!0},p:function(t,n){e=n;var i={};(t.folder||t.pictures)&&(i.initial=e.folder+"/blur/"+e.picture),(t.folder||t.pictures)&&(i.src=e.folder+"/400px/"+e.picture),t.pictures&&(i.alt="picture-"+e.index),s.$set(i)},i:function(t){r||(s.$$.fragment.i(t),r=!0)},o:function(t){s.$$.fragment.o(t),r=!1},d:function(t){t&&d(n),s.$destroy(),c()}}}function q(t){for(var e,n,i,r,c,s,a,h=t.$_("album",{title:t.$_(t.title)}),g=[],$=new Map,x=t.selected&&L(t),N=t.pictures,D=function(t){return t.picture},_=0;_<N.length;_+=1){var j=K(t,N,_),P=D(j);$.set(P,g[_]=O(P,j))}return{c:function(){for(x&&x.c(),e=o(),n=l("div"),i=k(h),r=o(),c=l("div"),s=l("div"),_=0;_<g.length;_+=1)g[_].c();this.h()},l:function(t){x&&x.l(t),e=v(t,"\n\n"),n=u(t,"DIV",{class:!0},!1);var a=f(n);i=v(a,h),a.forEach(d),r=v(t,"\n\n"),c=u(t,"DIV",{class:!0},!1);var l=f(c);s=u(l,"DIV",{class:!0},!1);var o=f(s);for(_=0;_<g.length;_+=1)g[_].l(o);o.forEach(d),l.forEach(d),this.h()},h:function(){n.className="title svelte-13but6l",s.className="container svelte-13but6l",c.className="layout svelte-13but6l"},m:function(t,l){for(x&&x.m(t,l),p(t,e,l),p(t,n,l),m(n,i),p(t,r,l),p(t,c,l),m(c,s),_=0;_<g.length;_+=1)g[_].m(s,null);a=!0},p:function(t,n){n.selected?x?(x.p(t,n),x.i(1)):((x=L(n)).c(),x.i(1),x.m(e.parentNode,e)):x&&(V(),b(function(){x.d(1),x=null}),x.o(1),E()),a&&!t.$_&&!t.title||h===(h=n.$_("album",{title:n.$_(n.title)}))||y(i,h);var r=n.pictures;V(),g=I(g,t,D,1,n,r,$,s,w,O,null,K),E()},i:function(t){if(!a){x&&x.i();for(var e=0;e<N.length;e+=1)g[e].i();a=!0}},o:function(t){for(x&&x.o(),_=0;_<g.length;_+=1)g[_].o();a=!1},d:function(t){for(x&&x.d(t),t&&(d(e),d(n),d(r),d(c)),_=0;_<g.length;_+=1)g[_].d()}}}function B(t,e){return R.apply(this,arguments)}function R(){return(R=j(P.mark(function t(e,n){var i;return P.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=e.params.album,t.abrupt("return",C.find(function(t){return t.title===i}));case 2:case"end":return t.stop()}},t)}))).apply(this,arguments)}function z(t,e,n){var i;D(t,_,function(t){n("$_",i=t)});var r=e.folder,c=e.pictures,s=e.title,a=null,l=-1;return t.$set=function(t){"folder"in t&&n("folder",r=t.folder),"pictures"in t&&n("pictures",c=t.pictures),"title"in t&&n("title",s=t.title)},{folder:r,pictures:c,title:s,selected:a,selectPicture:function(t,e){return function(){n("selected",a=t),l=e}},removeSelection:function(){n("selected",a=null)},onNext:function(){l<c.length-1&&n("selected",a=c[l+=1])},onPrevious:function(){l>0&&n("selected",a=c[l-=1])},$_:i}}export default(function(l){function o(t){var a;return e(this,o),a=n(this,i(o).call(this)),r(c(a),t,z,q,s,["folder","pictures","title"]),a}return t(o,a),o}());export{B as preload};
//# sourceMappingURL=[album].dbd9fca8.js.map
