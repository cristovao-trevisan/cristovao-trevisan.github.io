import{S as e,a as t,s,e as i,k as l,b as r,d as a,f as n,g as o,h as c,j as f,K as d,l as p,n as h,r as u,L as v,y,t as x,p as g,A as m,u as w,D as b,v as $,E as k,q as E,C as I,I as z}from"./chunk.1732d770.js";import{_ as j}from"./chunk.2994a429.js";import"./chunk.ceb0f11d.js";import{A as D}from"./chunk.6b23af5d.js";import{a as V}from"./chunk.4a35cc55.js";function _(e){var t,s,v,y,x,g,m,w,b,$,k,E,I,z;return{c(){t=i("div"),s=i("div"),v=i("div"),y=r(),x=i("img"),g=r(),m=i("img"),w=r(),b=i("div"),$=i("div"),k=r(),E=i("div"),I=i("div"),this.h()},l(e){t=a(e,"DIV",{class:!0},!1);var i=n(t);s=a(i,"DIV",{class:!0},!1);var l=n(s);v=a(l,"DIV",{class:!0},!1),n(v).forEach(o),y=c(l,"\n    "),x=a(l,"IMG",{class:!0,src:!0,alt:!0},!1),n(x).forEach(o),g=c(l,"\n    "),m=a(l,"IMG",{class:!0,src:!0,alt:!0},!1),n(m).forEach(o),w=c(l,"\n    "),b=a(l,"DIV",{class:!0},!1);var r=n(b);$=a(r,"DIV",{class:!0},!1),n($).forEach(o),r.forEach(o),k=c(l,"\n    "),E=a(l,"DIV",{class:!0},!1);var f=n(E);I=a(f,"DIV",{class:!0},!1),n(I).forEach(o),f.forEach(o),l.forEach(o),i.forEach(o),this.h()},h(){f(v,"class","mask svelte-1yy7ffd"),f(x,"class","blur svelte-1yy7ffd"),f(x,"src",e.initial),f(x,"alt","loading"),f(m,"class","image svelte-1yy7ffd"),f(m,"src",e.src),f(m,"alt","high resolution picture"),f($,"class","icon svelte-1yy7ffd"),f(b,"class","icon-left svelte-1yy7ffd"),f(I,"class","icon svelte-1yy7ffd"),f(E,"class","icon-right svelte-1yy7ffd"),f(s,"class","container svelte-1yy7ffd"),f(t,"class","overlay svelte-1yy7ffd"),z=[d(window,"keydown",e.handleKeydown),d(v,"click",e.onClose),d(b,"click",e.onPrevious),d(E,"click",e.onNext)]},m(e,i){p(e,t,i),l(t,s),l(s,v),l(s,y),l(s,x),l(s,g),l(s,m),l(s,w),l(s,b),l(b,$),l(s,k),l(s,E),l(E,I)},p(e,t){e.initial&&f(x,"src",t.initial),e.src&&f(m,"src",t.src)},i:h,o:h,d(e){e&&o(t),u(z)}}}function P(e,t,s){let{initial:i,src:l}=t;const r=v(),a=()=>r("close"),n=()=>r("next"),o=()=>r("previous");return e.$set=e=>{"initial"in e&&s("initial",i=e.initial),"src"in e&&s("src",l=e.src)},{initial:i,src:l,onClose:a,onNext:n,onPrevious:o,handleKeydown:e=>{"Escape"===e.key?a():"ArrowRight"===e.key?n():"ArrowLeft"===e.key&&o()}}}class C extends e{constructor(e){var r;super(),document.getElementById("svelte-1yy7ffd-style")||((r=i("style")).id="svelte-1yy7ffd-style",r.textContent='.overlay.svelte-1yy7ffd{position:fixed;top:0;left:0;z-index:999;height:100vh;width:100vw}.container.svelte-1yy7ffd{height:100%;display:flex;align-items:center;justify-content:center}.mask.svelte-1yy7ffd{position:absolute;background-color:black;opacity:0.4;width:100%;height:100%;top:0;left:0}.image.svelte-1yy7ffd{background-color:#00000006}.blur.svelte-1yy7ffd{position:absolute;max-width:78%;pointer-events:none}img.svelte-1yy7ffd{z-index:1;-o-object-fit:contain;object-fit:contain;width:80%;max-width:2048px;height:auto;max-height:80%;text-align:center}.icon-right.svelte-1yy7ffd,.icon-left.svelte-1yy7ffd{z-index:2;position:absolute;width:80px;height:100px;display:flex;justify-content:flex-end;align-items:center;cursor:pointer}.icon-right.svelte-1yy7ffd{right:calc(5% - 18.5px)}.icon-left.svelte-1yy7ffd{left:calc(5% - 18.5px);transform:rotate(180deg)}.icon.svelte-1yy7ffd{width:37px;height:56px;position:relative;right:calc(5% - 8px);overflow:hidden}.icon.svelte-1yy7ffd:before{content:"";position:absolute;width:10px;height:40px;background-color:white;transform:rotate(35deg);top:21px;right:50%}.icon.svelte-1yy7ffd:after{content:"";position:absolute;width:10px;height:40px;background-color:white;transform:rotate(-35deg);bottom:21px;right:50%}',l(document.head,r)),t(this,e,P,_,s,["initial","src"])}}function N(e,t,s){const i=Object.create(e);return i.picture=t[s],i.index=s,i}function S(e){var t,s=new C({props:{initial:e.folder+"/blur/"+e.selected,src:e.folder+"/2048px/"+e.selected}});return s.$on("close",e.removeSelection),s.$on("next",e.onNext),s.$on("previous",e.onPrevious),{c(){s.$$.fragment.c()},l(e){s.$$.fragment.l(e)},m(e,i){y(s,e,i),t=!0},p(e,t){var i={};(e.folder||e.selected)&&(i.initial=t.folder+"/blur/"+t.selected),(e.folder||e.selected)&&(i.src=t.folder+"/2048px/"+t.selected),s.$set(i)},i(e){t||(x(s.$$.fragment,e),t=!0)},o(e){g(s.$$.fragment,e),t=!1},d(e){m(s,e)}}}function A(e,t){var s,h,u,v,w=new D({props:{initial:t.folder+"/blur/"+t.picture,src:t.folder+"/400px/"+t.picture,alt:"picture-"+t.index}});return{key:e,first:null,c(){s=i("div"),w.$$.fragment.c(),h=r(),this.h()},l(e){s=a(e,"DIV",{class:!0},!1);var t=n(s);w.$$.fragment.l(t),h=c(t,"\n      "),t.forEach(o),this.h()},h(){f(s,"class","image-container hoverlay svelte-7fzsaw"),v=d(s,"click",t.selectPicture(t.picture,t.index)),this.first=s},m(e,t){p(e,s,t),y(w,s,null),l(s,h),u=!0},p(e,s){t=s;var i={};(e.folder||e.pictures)&&(i.initial=t.folder+"/blur/"+t.picture),(e.folder||e.pictures)&&(i.src=t.folder+"/400px/"+t.picture),e.pictures&&(i.alt="picture-"+t.index),w.$set(i)},i(e){u||(x(w.$$.fragment,e),u=!0)},o(e){g(w.$$.fragment,e),u=!1},d(e){e&&o(s),m(w),v()}}}function K(e){var t,s,d,h,u,v,y,m=e.$_("album",{title:e.$_(e.title)}),E=[],j=new Map,D=e.selected&&S(e),V=e.pictures;const _=e=>e.picture;for(var P=0;P<V.length;P+=1){let t=N(e,V,P),s=_(t);j.set(s,E[P]=A(s,t))}return{c(){for(D&&D.c(),t=r(),s=i("div"),d=w(m),h=r(),u=i("div"),v=i("div"),P=0;P<E.length;P+=1)E[P].c();this.h()},l(e){D&&D.l(e),t=c(e,"\n\n"),s=a(e,"DIV",{class:!0},!1);var i=n(s);d=c(i,m),i.forEach(o),h=c(e,"\n\n"),u=a(e,"DIV",{class:!0},!1);var l=n(u);v=a(l,"DIV",{class:!0},!1);var r=n(v);for(P=0;P<E.length;P+=1)E[P].l(r);r.forEach(o),l.forEach(o),this.h()},h(){f(s,"class","title svelte-7fzsaw"),f(v,"class","container svelte-7fzsaw"),f(u,"class","layout svelte-7fzsaw")},m(e,i){for(D&&D.m(e,i),p(e,t,i),p(e,s,i),l(s,d),p(e,h,i),p(e,u,i),l(u,v),P=0;P<E.length;P+=1)E[P].m(v,null);y=!0},p(e,s){s.selected?D?(D.p(e,s),x(D,1)):((D=S(s)).c(),x(D,1),D.m(t.parentNode,t)):D&&(I(),g(D,1,()=>{D=null}),b()),y&&!e.$_&&!e.title||m===(m=s.$_("album",{title:s.$_(s.title)}))||$(d,m);const i=s.pictures;I(),E=k(E,e,_,1,s,i,j,v,z,A,null,N),b()},i(e){if(!y){x(D);for(var t=0;t<V.length;t+=1)x(E[t]);y=!0}},o(e){for(g(D),P=0;P<E.length;P+=1)g(E[P]);y=!1},d(e){for(D&&D.d(e),e&&(o(t),o(s),o(h),o(u)),P=0;P<E.length;P+=1)E[P].d()}}}async function M(e,t){const{album:s}=e.params;return V.find(e=>e.title===s)}function B(e,t,s){let i;E(e,j,e=>{s("$_",i=e)});let{folder:l,pictures:r,title:a}=t,n=null,o=-1;return e.$set=e=>{"folder"in e&&s("folder",l=e.folder),"pictures"in e&&s("pictures",r=e.pictures),"title"in e&&s("title",a=e.title)},{folder:l,pictures:r,title:a,selected:n,selectPicture:(e,t)=>()=>{s("selected",n=e),o=t},removeSelection:()=>{s("selected",n=null)},onNext:()=>{o<r.length-1&&s("selected",n=r[o+=1])},onPrevious:()=>{o>0&&s("selected",n=r[o-=1])},$_:i}}export default class extends e{constructor(e){var r;super(),document.getElementById("svelte-7fzsaw-style")||((r=i("style")).id="svelte-7fzsaw-style",r.textContent=".title.svelte-7fzsaw{margin-left:calc(5% + 10px);margin-top:16px;font-family:'Street Slab';font-size:16px}.layout.svelte-7fzsaw{display:flex;justify-content:center;margin-top:16px}.container.svelte-7fzsaw{width:100%;max-width:1024px;display:flex;justify-content:space-evenly;align-items:center;flex-wrap:wrap}.image-container.svelte-7fzsaw{position:relative;margin:4px;width:calc(50% - 16px);max-width:200px;height:200px;box-shadow:0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23);border-radius:8px;overflow:hidden;cursor:pointer}",l(document.head,r)),t(this,e,B,K,s,["folder","pictures","title"])}}export{M as preload};
//# sourceMappingURL=[album].518c19b1.js.map
